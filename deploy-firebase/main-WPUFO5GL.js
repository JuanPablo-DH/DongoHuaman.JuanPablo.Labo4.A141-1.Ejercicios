import{a as ao,b as co,d as uo,e as lo}from"./chunk-KJL2ILNL.js";import"./chunk-RBSVSPFV.js";import{Da as J,Q as Zs,Sa as ce,T as eo,Ta as ue,U as we,Ua as un,W as Te,Wa as ro,Y as cn,Ya as le,_ as k,a as Qs,b as Js,ba as to,c as Ee,ca as Ae,cb as io,d as u,db as so,eb as oo,fa as vt,g as yr,l as Ys,m as Xs,o as Ir,oa as Se,p as vr,q as Er,va as no}from"./chunk-CHNTTTHJ.js";var ho=[{path:"",redirectTo:"bienvenida",pathMatch:"full"},{path:"bienvenida",loadComponent:()=>import("./chunk-VFJCB2NS.js").then(t=>t.BienvenidaComponent)},{path:"login",loadComponent:()=>import("./chunk-BQVVS2SF.js").then(t=>t.LoginComponent)},{path:"registro",loadComponent:()=>import("./chunk-OH5BQFB4.js").then(t=>t.RegistroComponent)},{path:"error",loadComponent:()=>import("./chunk-KARHYFGG.js").then(t=>t.ErrorComponent)},{path:"calculos-edad",loadComponent:()=>import("./chunk-7F6JKDGR.js").then(t=>t.CalculosEdadComponent)},{path:"input-output-ngif-ng-for-ngswitch",loadComponent:()=>import("./chunk-4N6W23ME.js").then(t=>t.PadreComponent)},{path:"**",loadComponent:()=>import("./chunk-KARHYFGG.js").then(t=>t.ErrorComponent)}];var po=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vu=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=s>>2,m=(s&3)<<4|a>>4,_=(a&15)<<2|l>>6,T=l&63;c||(T=64,o||(_=64)),r.push(n[d],n[m],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(po(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vu(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||m==null)throw new Tr;let _=s<<2|a>>4;if(r.push(_),l!==64){let T=a<<4&240|l>>2;if(r.push(T),m!==64){let S=l<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Eu=function(t){let e=po(t);return mo.encodeByteArray(e,!0)},Et=function(t){return Eu(t).replace(/\./g,"")},Sr=function(t){try{return mo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Tu=()=>wu().__FIREBASE_DEFAULTS__,Au=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Su=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sr(t[1]);return e&&JSON.parse(e)},br=()=>{try{return Tu()||Au()||Su()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rr=t=>{var e,n;return(n=(e=br())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hn=t=>{let e=Rr(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pr=()=>{var t;return(t=br())===null||t===void 0?void 0:t.config},Cr=t=>{var e;return(e=br())===null||e===void 0?void 0:e[`_${t}`]};var ln=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function dn(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Et(JSON.stringify(n)),Et(JSON.stringify(o)),""].join(".")}function b(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function go(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function _o(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yo(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Io(){let t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kr(){try{return typeof indexedDB=="object"}catch{return!1}}function vo(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var bu="FirebaseError",M=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bu,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}},he=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ru(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new M(i,a,r)}};function Ru(t,e){return t.replace(Pu,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Pu=/\{\$([^}]+)}/g;function Eo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $e(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fo(s)&&fo(o)){if(!$e(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fo(t){return t!==null&&typeof t=="object"}function wt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wo(t,e){let n=new Ar(t,e);return n.subscribe.bind(n)}var Ar=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Cu(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wr),i.error===void 0&&(i.error=wr),i.complete===void 0&&(i.complete=wr);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cu(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wr(){}var Em=4*60*60*1e3;function Y(t){return t&&t._delegate?t._delegate:t}var B=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ze="[DEFAULT]";var Dr=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ln;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Du(e))try{this.getOrInitializeService({instanceIdentifier:ze})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ze){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return u(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ze){return this.instances.has(e)}getOptions(e=ze){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ku(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ze){return this.component?this.component.multipleInstances?e:ze:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ku(t){return t===ze?void 0:t}function Du(t){return t.instantiationMode==="EAGER"}var fn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dr(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Nu=[],y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(y||{}),Ou={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},xu=y.INFO,Vu={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},Lu=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Vu[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},be=class{constructor(e){this.name=e,this._logLevel=xu,this._logHandler=Lu,this._userLogHandler=null,Nu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ou[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...e),this._logHandler(this,y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...e),this._logHandler(this,y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,y.INFO,...e),this._logHandler(this,y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,y.WARN,...e),this._logHandler(this,y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...e),this._logHandler(this,y.ERROR,...e)}};var Mu=(t,e)=>e.some(n=>t instanceof n),To,Ao;function Fu(){return To||(To=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uu(){return Ao||(Ao=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var So=new WeakMap,Or=new WeakMap,bo=new WeakMap,Nr=new WeakMap,Vr=new WeakMap;function Bu(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(X(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&So.set(n,t)}).catch(()=>{}),Vr.set(e,t),e}function qu(t){if(Or.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Or.set(t,e)}var xr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Or.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bo.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return X(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ro(t){xr=t(xr)}function $u(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pn(this),e,...n);return bo.set(r,e.sort?e.sort():[e]),X(r)}:Uu().includes(t)?function(...e){return t.apply(pn(this),e),X(So.get(this))}:function(...e){return X(t.apply(pn(this),e))}}function zu(t){return typeof t=="function"?$u(t):(t instanceof IDBTransaction&&qu(t),Mu(t,Fu())?new Proxy(t,xr):t)}function X(t){if(t instanceof IDBRequest)return Bu(t);if(Nr.has(t))return Nr.get(t);let e=zu(t);return e!==t&&(Nr.set(t,e),Vr.set(e,t)),e}var pn=t=>Vr.get(t);function Co(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=X(o);return r&&o.addEventListener("upgradeneeded",c=>{r(X(o.result),c.oldVersion,c.newVersion,X(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ju=["get","getKey","getAll","getAllKeys","count"],Gu=["put","add","delete","clear"],Lr=new Map;function Po(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lr.get(e))return Lr.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Gu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ju.includes(n)))return;let s=function(o,...a){return u(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Lr.set(e,s),s}Ro(t=>Js(Qs({},t),{get:(e,n,r)=>Po(e,n)||t.get(e,n,r),has:(e,n)=>!!Po(e,n)||t.has(e,n)}));var Fr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wu(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Wu(t){let e=t.getComponent();return e?.type==="VERSION"}var Ur="@firebase/app",ko="0.10.2";var je=new be("@firebase/app"),Ku="@firebase/app-compat",Hu="@firebase/analytics-compat",Qu="@firebase/analytics",Ju="@firebase/app-check-compat",Yu="@firebase/app-check",Xu="@firebase/auth",Zu="@firebase/auth-compat",el="@firebase/database",tl="@firebase/database-compat",nl="@firebase/functions",rl="@firebase/functions-compat",il="@firebase/installations",sl="@firebase/installations-compat",ol="@firebase/messaging",al="@firebase/messaging-compat",cl="@firebase/performance",ul="@firebase/performance-compat",ll="@firebase/remote-config",hl="@firebase/remote-config-compat",dl="@firebase/storage",fl="@firebase/storage-compat",pl="@firebase/firestore",ml="@firebase/firestore-compat",gl="firebase",_l="10.11.1";var Br="[DEFAULT]",yl={[Ur]:"fire-core",[Ku]:"fire-core-compat",[Qu]:"fire-analytics",[Hu]:"fire-analytics-compat",[Yu]:"fire-app-check",[Ju]:"fire-app-check-compat",[Xu]:"fire-auth",[Zu]:"fire-auth-compat",[el]:"fire-rtdb",[tl]:"fire-rtdb-compat",[nl]:"fire-fn",[rl]:"fire-fn-compat",[il]:"fire-iid",[sl]:"fire-iid-compat",[ol]:"fire-fcm",[al]:"fire-fcm-compat",[cl]:"fire-perf",[ul]:"fire-perf-compat",[ll]:"fire-rc",[hl]:"fire-rc-compat",[dl]:"fire-gcs",[fl]:"fire-gcs-compat",[pl]:"fire-fst",[ml]:"fire-fst-compat","fire-js":"fire-js",[gl]:"fire-js-all"};var Tt=new Map,Il=new Map,qr=new Map;function Do(t,e){try{t.container.addComponent(e)}catch(n){je.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Z(t){let e=t.name;if(qr.has(e))return je.debug(`There were multiple attempts to register component ${e}.`),!1;qr.set(e,t);for(let n of Tt.values())Do(n,t);for(let n of Il.values())Do(n,t);return!0}function Ge(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function de(t){return t.settings!==void 0}var vl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Re=new he("app","Firebase",vl);var $r=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new B("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Re.create("app-deleted",{appName:this._name})}};var ee=_l;function Gr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Br,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Re.create("bad-app-name",{appName:String(i)});if(n||(n=Pr()),!n)throw Re.create("no-options");let s=Tt.get(i);if(s){if($e(n,s.options)&&$e(r,s.config))return s;throw Re.create("duplicate-app",{appName:i})}let o=new fn(i);for(let c of qr.values())o.addComponent(c);let a=new $r(n,r,o);return Tt.set(i,a),a}function Pe(t=Br){let e=Tt.get(t);if(!e&&t===Br&&Pr())return Gr();if(!e)throw Re.create("no-app",{appName:t});return e}function mn(){return Array.from(Tt.values())}function E(t,e,n){var r;let i=(r=yl[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),je.warn(a.join(" "));return}Z(new B(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var El="firebase-heartbeat-database",wl=1,At="firebase-heartbeat-store",Mr=null;function Vo(){return Mr||(Mr=Co(El,wl,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(At)}catch(n){console.warn(n)}}}}).catch(t=>{throw Re.create("idb-open",{originalErrorMessage:t.message})})),Mr}function Tl(t){return u(this,null,function*(){try{let n=(yield Vo()).transaction(At),r=yield n.objectStore(At).get(Lo(t));return yield n.done,r}catch(e){if(e instanceof M)je.warn(e.message);else{let n=Re.create("idb-get",{originalErrorMessage:e?.message});je.warn(n.message)}}})}function No(t,e){return u(this,null,function*(){try{let r=(yield Vo()).transaction(At,"readwrite");yield r.objectStore(At).put(e,Lo(t)),yield r.done}catch(n){if(n instanceof M)je.warn(n.message);else{let r=Re.create("idb-set",{originalErrorMessage:n?.message});je.warn(r.message)}}})}function Lo(t){return`${t.name}!${t.options.appId}`}var Al=1024,Sl=30*24*60*60*1e3,zr=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jr(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return u(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Oo();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Sl}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return u(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Oo(),{heartbeatsToSend:r,unsentEntries:i}=bl(this._heartbeatsCache.heartbeats),s=Et(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Oo(){return new Date().toISOString().substring(0,10)}function bl(t,e=Al){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xo(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xo(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jr=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return u(this,null,function*(){return kr()?vo().then(()=>!0).catch(()=>!1):!1})}read(){return u(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Tl(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return u(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return No(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return u(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return No(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xo(t){return Et(JSON.stringify({version:2,heartbeats:t})).length}function Rl(t){Z(new B("platform-logger",e=>new Fr(e),"PRIVATE")),Z(new B("heartbeat",e=>new zr(e),"PRIVATE")),E(Ur,ko,t),E(Ur,ko,"esm2017"),E("fire-js","")}Rl("");var Pl="firebase",Cl="10.11.1";E(Pl,Cl,"app");var fe=new so("ANGULARFIRE2_VERSION");function st(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ke=(t,e)=>{let n=e?[e]:mn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ce=class{constructor(){return Ke(kl)}},kl="app-check";function it(){}var gn=class{zone;delegate;constructor(e,n=Xs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Wr=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",it,{},it,it)),n.pipe(Zs({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ke=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gn(Zone.current)),this.insideAngular=n.run(()=>new gn(Zone.current,Ys)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(cn(J))};static \u0275prov=eo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _n(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Dl(t){return _n().ngZone.runOutsideAngular(()=>t())}function We(t){return _n().ngZone.run(()=>t())}function Nl(t){return Ol(_n())(t)}function Ol(t){return function(n){return n=n.lift(new Wr(t.ngZone)),n.pipe(Er(t.outsideAngular),vr(t.insideAngular))}}var xl=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),We(()=>t.apply(void 0,r))},De=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=We(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",it,{},it,it))),r[s]=xl(r[s],n));let i=Dl(()=>t.apply(this,r));if(!e)if(i instanceof yr){let s=_n();return i.pipe(Er(s.outsideAngular),vr(s.insideAngular))}else return We(()=>i);return i instanceof yr?i.pipe(Nl):i instanceof Promise?We(()=>new Promise((s,o)=>i.then(a=>We(()=>s(a)),a=>We(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:We(()=>i)};var W=class{constructor(e){return e}},pe=class{constructor(){return mn()}};function Vl(t){return t&&t.length===1?t[0]:new W(Pe())}var Kr=new Te("angularfire2._apps"),Ll={provide:W,useFactory:Vl,deps:[[new k,Kr]]},Ml={provide:pe,deps:[[new k,Kr]]};function Fl(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new W(r)}}var Ul=(()=>{class t{constructor(n){E("angularfire",fe.full,"core"),E("angularfire",fe.full,"app"),E("angular",oo.full,n.toString())}static \u0275fac=function(r){return new(r||t)(cn(no))};static \u0275mod=Ae({type:t});static \u0275inj=we({providers:[Ll,Ml]})}return t})();function Mo(t,...e){return{ngModule:Ul,providers:[{provide:Kr,useFactory:Fl(t),multi:!0,deps:[J,Se,ke,...e]}]}}var Fo=De(Gr,!0);function Zo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ea=Zo,ta=new he("auth","Firebase",Zo());var Tn=new be("@firebase/auth");function Bl(t,...e){Tn.logLevel<=y.WARN&&Tn.warn(`Auth (${ee}): ${t}`,...e)}function In(t,...e){Tn.logLevel<=y.ERROR&&Tn.error(`Auth (${ee}): ${t}`,...e)}function Oe(t,...e){throw fi(t,...e)}function Qe(t,...e){return fi(t,...e)}function na(t,e,n){let r=Object.assign(Object.assign({},ea()),{[e]:n});return new he("auth","Firebase",r).create(e,{appName:t.name})}function He(t){return na(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fi(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ta.create(t,...e)}function f(t,e,...n){if(!t)throw fi(e,...n)}function me(t){let e="INTERNAL ASSERTION FAILED: "+t;throw In(e),new Error(e)}function xe(t,e){t||me(e)}function Yr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ql(){return Uo()==="http:"||Uo()==="https:"}function Uo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $l(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ql()||_o()||"connection"in navigator)?navigator.onLine:!0}function zl(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Je=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xe(n>e,"Short delay should be less than long delay!"),this.isMobile=go()||yo()}get(){return $l()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pi(t,e){xe(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var An=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Gl=new Je(3e4,6e4);function mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function at(s,o,a,c){return u(this,arguments,function*(t,e,n,r,i={}){return ra(t,i,()=>u(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let m=wt(Object.assign({key:t.config.apiKey},d)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),An.fetch()(ia(t,t.config.apiHost,n,m),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},l))}))})}function ra(t,e,n){return u(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},jl),e);try{let i=new Xr(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw yn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yn(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw yn(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw yn(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw na(t,d,l);Oe(t,d)}}catch(i){if(i instanceof M)throw i;Oe(t,"network-request-failed",{message:String(i)})}})}function Wl(s,o,a,c){return u(this,arguments,function*(t,e,n,r,i={}){let l=yield at(t,e,n,r,i);return"mfaPendingCredential"in l&&Oe(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ia(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pi(t.config,i):`${t.config.apiScheme}://${i}`}var Xr=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qe(this.auth,"network-request-failed")),Gl.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yn(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qe(t,e,r);return i.customData._tokenResponse=n,i}function Kl(t,e){return u(this,null,function*(){return at(t,"POST","/v1/accounts:delete",e)})}function sa(t,e){return u(this,null,function*(){return at(t,"POST","/v1/accounts:lookup",e)})}function bt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gi(t,e=!1){return u(this,null,function*(){let n=Y(t),r=yield n.getIdToken(e),i=_i(r);f(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:bt(Hr(i.auth_time)),issuedAtTime:bt(Hr(i.iat)),expirationTime:bt(Hr(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Hr(t){return Number(t)*1e3}function _i(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return In("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sr(n);return i?JSON.parse(i):(In("Failed to decode base64 JWT payload"),null)}catch(i){return In("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bo(t){let e=_i(t);return f(e,"internal-error"),f(typeof e.exp<"u","internal-error"),f(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pt(t,e,n=!1){return u(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof M&&Hl(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Hl({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zr=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>u(this,null,function*(){yield this.iteration()}),n)}iteration(){return u(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ct=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sn(t){return u(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Pt(t,sa(n,{idToken:r}));f(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oa(s.providerUserInfo):[],a=Ql(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ct(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)})}function yi(t){return u(this,null,function*(){let e=Y(t);yield Sn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Ql(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oa(t){return t.map(e=>{var{providerId:n}=e,r=Ir(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Jl(t,e){return u(this,null,function*(){let n=yield ra(t,{},()=>u(this,null,function*(){let r=wt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ia(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",An.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Yl(t,e){return u(this,null,function*(){return at(t,"POST","/v2/accounts:revokeToken",mi(t,e))})}var Rt=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){f(e.idToken,"internal-error"),f(typeof e.idToken<"u","internal-error"),f(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){f(e.length!==0,"internal-error");let n=Bo(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return u(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(f(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return u(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Jl(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(f(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(f(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(f(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return me("not implemented")}};function Ne(t,e){f(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ot=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ct(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return u(this,null,function*(){let n=yield Pt(this,this.stsTokenManager.getToken(this.auth,e));return f(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gi(this,e)}reload(){return yi(this)}_assign(e){this!==e&&(f(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){f(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return u(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Sn(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return u(this,null,function*(){if(de(this.auth.app))return Promise.reject(He(this.auth));let e=yield this.getIdToken();return yield Pt(this,Kl(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,d;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,G=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,Ue=(l=n.createdAt)!==null&&l!==void 0?l:void 0,on=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Q,emailVerified:U,isAnonymous:Be,providerData:qe,stsTokenManager:an}=n;f(Q&&an,e,"internal-error");let It=Rt.fromJSON(this.name,an);f(typeof Q=="string",e,"internal-error"),Ne(m,e.name),Ne(_,e.name),f(typeof U=="boolean",e,"internal-error"),f(typeof Be=="boolean",e,"internal-error"),Ne(T,e.name),Ne(S,e.name),Ne(G,e.name),Ne(x,e.name),Ne(Ue,e.name),Ne(on,e.name);let _r=new t({uid:Q,auth:e,email:_,emailVerified:U,displayName:m,isAnonymous:Be,photoURL:S,phoneNumber:T,tenantId:G,stsTokenManager:It,createdAt:Ue,lastLoginAt:on});return qe&&Array.isArray(qe)&&(_r.providerData=qe.map(Iu=>Object.assign({},Iu))),x&&(_r._redirectEventId=x),_r}static _fromIdTokenResponse(e,n,r=!1){return u(this,null,function*(){let i=new Rt;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sn(s),s})}static _fromGetAccountInfoResponse(e,n,r){return u(this,null,function*(){let i=n.users[0];f(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?oa(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Rt;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ct(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var qo=new Map;function ge(t){xe(t instanceof Function,"Expected a class definition");let e=qo.get(t);return e?(xe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qo.set(t,e),e)}var Xl=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return u(this,null,function*(){return!0})}_set(n,r){return u(this,null,function*(){this.storage[n]=r})}_get(n){return u(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return u(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ei=Xl;function vn(t,e,n){return`firebase:${t}:${e}:${n}`}var bn=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=vn(this.userKey,i.apiKey,s),this.fullPersistenceKey=vn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return u(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ot._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return u(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return u(this,null,function*(){if(!n.length)return new t(ge(ei),e,r);let i=(yield Promise.all(n.map(l=>u(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ge(ei),o=vn(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let m=ot._fromJSON(e,d);l!==s&&(a=m),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>u(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function $o(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ua(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aa(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ha(e))return"Blackberry";if(da(e))return"Webos";if(Ii(e))return"Safari";if((e.includes("chrome/")||ca(e))&&!e.includes("edge/"))return"Chrome";if(la(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aa(t=b()){return/firefox\//i.test(t)}function Ii(t=b()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ca(t=b()){return/crios\//i.test(t)}function ua(t=b()){return/iemobile/i.test(t)}function la(t=b()){return/android/i.test(t)}function ha(t=b()){return/blackberry/i.test(t)}function da(t=b()){return/webos/i.test(t)}function xn(t=b()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zl(t=b()){var e;return xn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eh(){return Io()&&document.documentMode===10}function fa(t=b()){return xn(t)||la(t)||da(t)||ha(t)||/windows phone/i.test(t)||ua(t)}function th(){try{return!!(window&&window!==window.top)}catch{return!1}}function pa(t,e=[]){let n;switch(t){case"Browser":n=$o(b());break;case"Worker":n=`${$o(b())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ee}/${r}`}var ti=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return u(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function nh(n){return u(this,arguments,function*(t,e={}){return at(t,"GET","/v2/passwordPolicy",mi(t,e))})}var rh=6,ni=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rh,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ri=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rn(this),this.idTokenSubscription=new Rn(this),this.beforeStateQueue=new ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ta,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ge(n)),this._initializationPromise=this.queue(()=>u(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bn.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return u(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return u(this,null,function*(){try{let n=yield sa(this,{idToken:e}),r=yield ot._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return u(this,null,function*(){var n;if(de(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return f(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return u(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return u(this,null,function*(){try{yield Sn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zl()}_delete(){return u(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return u(this,null,function*(){if(de(this.app))return Promise.reject(He(this));let n=e?Y(e):null;return n&&f(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return u(this,null,function*(){if(!this._deleted)return e&&f(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>u(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return u(this,null,function*(){return de(this.app)?Promise.reject(He(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return de(this.app)?Promise.reject(He(this)):this.queue(()=>u(this,null,function*(){yield this.assertedPersistence.setPersistence(ge(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return u(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return u(this,null,function*(){let e=yield nh(this),n=new ni(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new he("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return u(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Yl(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return u(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return u(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ge(e)||this._popupRedirectResolver;f(n,this,"argument-error"),this.redirectPersistenceManager=yield bn.create(this,[ge(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return u(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>u(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return u(this,null,function*(){if(e===this.currentUser)return this.queue(()=>u(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(f(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return u(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return f(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return u(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return u(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Bl(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function vi(t){return Y(t)}var Rn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wo(n=>this.observer=n)}get next(){return f(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ei={loadJS(){return u(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ih(t){Ei=t}function sh(t){return Ei.loadJS(t)}function oh(){return Ei.gapiScript}function ma(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wi(t,e){let n=Ge(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if($e(s,e??{}))return i;Oe(i,"already-initialized")}return n.initialize({options:e})}function ah(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ge);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ti(t,e,n){let r=vi(t);f(r._canInitEmulator,r,"emulator-config-failed"),f(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=ga(e),{host:o,port:a}=ch(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uh()}function ga(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ch(t){let e=ga(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:zo(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:zo(o)}}}function zo(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function uh(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return me("not implemented")}_getIdTokenResponse(e){return me("not implemented")}_linkToIdToken(e,n){return me("not implemented")}_getReauthenticationResolver(e){return me("not implemented")}};function Qr(t,e){return u(this,null,function*(){return Wl(t,"POST","/v1/accounts:signInWithIdp",mi(t,e))})}var Cn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ii=class extends Cn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var kt=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return u(this,null,function*(){let s=yield ot._fromIdTokenResponse(e,r,i),o=jo(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return u(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jo(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jo(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var si=class t extends M{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _a(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?si._fromErrorAndOperation(t,s,e,r):s})}function lh(t,e,n=!1){return u(this,null,function*(){let r=yield Pt(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kt._forOperation(t,"link",r)})}function hh(t,e,n=!1){return u(this,null,function*(){let{auth:r}=t;if(de(r.app))return Promise.reject(He(r));let i="reauthenticate";try{let s=yield Pt(t,_a(r,i,e,t),n);f(s.idToken,r,"internal-error");let o=_i(s.idToken);f(o,r,"internal-error");let{sub:a}=o;return f(t.uid===a,r,"user-mismatch"),kt._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Oe(r,"user-mismatch"),s}})}function dh(t,e,n=!1){return u(this,null,function*(){if(de(t.app))return Promise.reject(He(t));let r="signIn",i=yield _a(t,r,e),s=yield kt._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Ai(t,e,n,r){return Y(t).onIdTokenChanged(e,n,r)}function Si(t,e,n){return Y(t).beforeAuthStateChanged(e,n)}var kn="__sak";var Dn=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kn,"1"),this.storage.removeItem(kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function fh(){let t=b();return Ii(t)||xn(t)}var ph=1e3,mh=10,gh=(()=>{class t extends Dn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fh()&&th(),this.fallbackToPolling=fa(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);eh()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,mh):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},ph)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return u(this,null,function*(){yield Ee(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return u(this,null,function*(){let r=yield Ee(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return u(this,null,function*(){yield Ee(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ya=gh;var _h=(()=>{class t extends Dn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),bi=_h;function yh(t){return Promise.all(t.map(e=>u(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Ih=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return u(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>u(this,null,function*(){return d(r.origin,o)})),l=yield yh(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ia(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var oi=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return u(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=Ia("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let _=m;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function te(){return window}function vh(t){te().location.href=t}function va(){return typeof te().WorkerGlobalScope<"u"&&typeof te().importScripts=="function"}function Eh(){return u(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wh(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Th(){return va()?self:null}var Ea="firebaseLocalStorageDb",Ah=1,Nn="firebaseLocalStorage",wa="fbase_key",Ye=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vn(t,e){return t.transaction([Nn],e?"readwrite":"readonly").objectStore(Nn)}function Sh(){let t=indexedDB.deleteDatabase(Ea);return new Ye(t).toPromise()}function ai(){let t=indexedDB.open(Ea,Ah);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Nn,{keyPath:wa})}catch(i){n(i)}}),t.addEventListener("success",()=>u(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Nn)?e(r):(r.close(),yield Sh(),e(yield ai()))}))})}function Go(t,e,n){return u(this,null,function*(){let r=Vn(t,!0).put({[wa]:e,value:n});return new Ye(r).toPromise()})}function bh(t,e){return u(this,null,function*(){let n=Vn(t,!1).get(e),r=yield new Ye(n).toPromise();return r===void 0?null:r.value})}function Wo(t,e){let n=Vn(t,!0).delete(e);return new Ye(n).toPromise()}var Rh=800,Ph=3,Ch=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return u(this,null,function*(){return this.db?this.db:(this.db=yield ai(),this.db)})}_withRetries(n){return u(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Ph)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return u(this,null,function*(){return va()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return u(this,null,function*(){this.receiver=Ih._getInstance(Th()),this.receiver._subscribe("keyChanged",(n,r)=>u(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>u(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return u(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Eh(),!this.activeServiceWorker)return;this.sender=new oi(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return u(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wh()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return u(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ai();return yield Go(n,kn,"1"),yield Wo(n,kn),!0}catch{}return!1})}_withPendingWrite(n){return u(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(i=>Go(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return u(this,null,function*(){let r=yield this._withRetries(i=>bh(i,n));return this.localCache[n]=r,r})}_remove(n){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(r=>Wo(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return u(this,null,function*(){let n=yield this._withRetries(s=>{let o=Vn(s,!1).getAll();return new Ye(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>u(this,null,function*(){return this._poll()}),Rh)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Ta=Ch;var pg=ma("rcb"),mg=new Je(3e4,6e4);function kh(t,e){return e?ge(e):(f(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dt=class extends Pn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Dh(t){return dh(t.auth,new Dt(t),t.bypassAuthState)}function Nh(t){let{auth:e,user:n}=t;return f(n,e,"internal-error"),hh(n,new Dt(t),t.bypassAuthState)}function Oh(t){return u(this,null,function*(){let{auth:e,user:n}=t;return f(n,e,"internal-error"),lh(n,new Dt(t),t.bypassAuthState)})}var ci=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>u(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return u(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dh;case"linkViaPopup":case"linkViaRedirect":return Oh;case"reauthViaPopup":case"reauthViaRedirect":return Nh;default:Oe(this.auth,"internal-error")}}resolve(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var gg=new Je(2e3,1e4);var xh="pendingRedirect",En=new Map,ui=class t extends ci{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return u(this,null,function*(){let e=En.get(this.auth._key());if(!e){try{let r=(yield Vh(this.resolver,this.auth))?yield Ee(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}En.set(this.auth._key(),e)}return this.bypassAuthState||En.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return u(this,null,function*(){if(e.type==="signInViaRedirect")return Ee(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ee(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return u(this,null,function*(){})}cleanUp(){}};function Vh(t,e){return u(this,null,function*(){let n=Fh(e),r=Mh(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Lh(t,e){En.set(t._key(),e)}function Mh(t){return ge(t._redirectPersistence)}function Fh(t){return vn(xh,t.config.apiKey,t.name)}function Uh(t,e,n=!1){return u(this,null,function*(){if(de(t.app))return Promise.reject(He(t));let r=vi(t),i=kh(r,e),o=yield new ui(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Bh=10*60*1e3,li=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Aa(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qe(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bh&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ko(e))}saveEventToCache(e){this.cachedEventUids.add(Ko(e)),this.lastProcessedEventTime=Date.now()}};function Ko(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Aa({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function qh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aa(t);default:return!1}}function $h(n){return u(this,arguments,function*(t,e={}){return at(t,"GET","/v1/projects",e)})}var zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jh=/^https?/;function Gh(t){return u(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $h(t);for(let n of e)try{if(Wh(n))return}catch{}Oe(t,"unauthorized-domain")})}function Wh(t){let e=Yr(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jh.test(n))return!1;if(zh.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Kh=new Je(3e4,6e4);function Ho(){let t=te().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hh(t){return new Promise((e,n)=>{var r,i,s;function o(){Ho(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ho(),n(Qe(t,"network-request-failed"))},timeout:Kh.get()})}if(!((i=(r=te().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=te().gapi)===null||s===void 0)&&s.load)o();else{let a=ma("iframefcb");return te()[a]=()=>{gapi.load?o():n(Qe(t,"network-request-failed"))},sh(`${oh()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw wn=null,e})}var wn=null;function Qh(t){return wn=wn||Hh(t),wn}var Jh=new Je(5e3,15e3),Yh="__/auth/iframe",Xh="emulator/auth/iframe",Zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ed=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function td(t){let e=t.config;f(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pi(e,Xh):`https://${t.config.authDomain}/${Yh}`,r={apiKey:e.apiKey,appName:t.name,v:ee},i=ed.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wt(r).slice(1)}`}function nd(t){return u(this,null,function*(){let e=yield Qh(t),n=te().gapi;return f(n,t,"internal-error"),e.open({where:document.body,url:td(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zh,dontclear:!0},r=>new Promise((i,s)=>u(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Qe(t,"network-request-failed"),a=te().setTimeout(()=>{s(o)},Jh.get());function c(){te().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var rd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},id=500,sd=600,od="_blank",ad="http://localhost",On=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cd(t,e,n,r=id,i=sd){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},rd),{width:r.toString(),height:i.toString(),top:s,left:o}),l=b().toLowerCase();n&&(a=ca(l)?od:n),aa(l)&&(e=e||ad,c.scrollbars="yes");let d=Object.entries(c).reduce((_,[T,S])=>`${_}${T}=${S},`,"");if(Zl(l)&&a!=="_self")return ud(e||"",a),new On(null);let m=window.open(e||"",a,d);f(m,t,"popup-blocked");try{m.focus()}catch{}return new On(m)}function ud(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ld="__/auth/handler",hd="emulator/auth/handler",dd=encodeURIComponent("fac");function Qo(t,e,n,r,i,s){return u(this,null,function*(){f(t.config.authDomain,t,"auth-domain-config-required"),f(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ee,eventId:i};if(e instanceof Cn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Eo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,m]of Object.entries(s||{}))o[d]=m}if(e instanceof ii){let d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${dd}=${encodeURIComponent(c)}`:"";return`${fd(t)}?${wt(a).slice(1)}${l}`})}function fd({config:t}){return t.emulator?pi(t,hd):`https://${t.authDomain}/${ld}`}var Jr="webStorageSupport",hi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=Uh,this._overrideRedirectResult=Lh}_openPopup(e,n,r,i){return u(this,null,function*(){var s;xe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Qo(e,n,r,Yr(),i);return cd(e,o,Ia())})}_openRedirect(e,n,r,i){return u(this,null,function*(){yield this._originValidation(e);let s=yield Qo(e,n,r,Yr(),i);return vh(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return u(this,null,function*(){let n=yield nd(e),r=new li(e);return n.register("authEvent",i=>(f(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jr,{type:Jr},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Jr];o!==void 0&&n(!!o),Oe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gh(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fa()||Ii()||xn()}},Sa=hi;var Jo="@firebase/auth",Yo="1.7.2";var di=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return u(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){f(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pd(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function md(t){Z(new B("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;f(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pa(t)},l=new ri(r,i,s,c);return ah(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Z(new B("auth-internal",e=>{let n=vi(e.getProvider("auth").getImmediate());return(r=>new di(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),E(Jo,Yo,pd(t)),E(Jo,Yo,"esm2017")}var gd=5*60,_d=Cr("authIdTokenMaxAge")||gd,Xo=null,yd=t=>e=>u(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_d)return;let i=n?.token;Xo!==i&&(Xo=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ri(t=Pe()){let e=Ge(t,"auth");if(e.isInitialized())return e.getImmediate();let n=wi(t,{popupRedirectResolver:Sa,persistence:[Ta,ya,bi]}),r=Cr("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=yd(s.toString());Si(n,o,()=>o(n.currentUser)),Ai(n,a=>o(a))}}let i=Rr("auth");return i&&Ti(n,`http://${i}`),n}function Id(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ih({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Qe("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Id().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});md("Browser");var ba="auth",Nt=class{constructor(e){return e}},Xe=class{constructor(){return Ke(ba)}};var Pi=new Te("angularfire2.auth-instances");function pf(t,e){let n=st(ba,t,e);return n&&new Nt(n)}function mf(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Nt(r)}}var gf={provide:Xe,deps:[[new k,Pi]]},_f={provide:Nt,useFactory:pf,deps:[[new k,Pi],W]},yf=(()=>{class t{constructor(){E("angularfire",fe.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ae({type:t});static \u0275inj=we({providers:[_f,gf]})}return t})();function Ra(t,...e){return{ngModule:yf,providers:[{provide:Pi,useFactory:mf(t),multi:!0,deps:[J,Se,ke,pe,[new k,Ce],...e]}]}}var Pa=De(Ri,!0);var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H={},h,Ji=Ji||{},p=If||self;function Qn(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wt(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vf(t){return Object.prototype.hasOwnProperty.call(t,Ci)&&t[Ci]||(t[Ci]=++Ef)}var Ci="closure_uid_"+(1e9*Math.random()>>>0),Ef=0;function wf(t,e,n){return t.call.apply(t.bind,arguments)}function Tf(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function V(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=wf:V=Tf,V.apply(null,arguments)}function Ln(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function P(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ve(){this.s=this.s,this.o=this.o}var Af=0;Ve.prototype.s=!1;Ve.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Af!=0)&&vf(this)};Ve.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yi(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ca(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Qn(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function L(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var Sf=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};p.addEventListener("test",n,e),p.removeEventListener("test",n,e)}catch{}return t}();function Ft(t){return/^[\s\xa0]*$/.test(t)}function Jn(){var t=p.navigator;return t&&(t=t.userAgent)?t:""}function ne(t){return Jn().indexOf(t)!=-1}function Xi(t){return Xi[" "](t),t}Xi[" "]=function(){};function bf(t,e){var n=pp;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Rf=ne("Opera"),ht=ne("Trident")||ne("MSIE"),$a=ne("Edge"),xi=$a||ht,za=ne("Gecko")&&!(Jn().toLowerCase().indexOf("webkit")!=-1&&!ne("Edge"))&&!(ne("Trident")||ne("MSIE"))&&!ne("Edge"),Pf=Jn().toLowerCase().indexOf("webkit")!=-1&&!ne("Edge");function ja(){var t=p.document;return t?t.documentMode:void 0}var Vi;e:{if(Mn="",Fn=function(){var t=Jn();if(za)return/rv:([^\);]+)(\)|;)/.exec(t);if($a)return/Edge\/([\d\.]+)/.exec(t);if(ht)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Pf)return/WebKit\/(\S+)/.exec(t);if(Rf)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fn&&(Mn=Fn?Fn[1]:""),ht&&(Un=ja(),Un!=null&&Un>parseFloat(Mn))){Vi=String(Un);break e}Vi=Mn}var Mn,Fn,Un,Li;p.document&&ht?(ki=ja(),Li=ki||parseInt(Vi,10)||void 0):Li=void 0;var ki,Cf=Li;function Ut(t,e){if(L.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(za){e:{try{Xi(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kf[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ut.$.h.call(this)}}P(Ut,L);var kf={2:"touch",3:"pen",4:"mouse"};Ut.prototype.h=function(){Ut.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),Df=0;function Nf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Df,this.fa=this.ia=!1}function Yn(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zi(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Of(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Ga(t){let e={};for(let n in t)e[n]=t[n];return e}var ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wa(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ka.length;s++)n=ka[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xn(t){this.src=t,this.g={},this.h=0}Xn.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Fi(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Nf(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Mi(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qa(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yn(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fi(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var es="closure_lm_"+(1e6*Math.random()|0),Di={};function Ka(t,e,n,r,i){if(r&&r.once)return Qa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ka(t,e[s],n,r,i);return null}return n=rs(n),t&&t[Kt]?t.O(e,n,Wt(r)?!!r.capture:!!r,i):Ha(t,e,n,!1,r,i)}function Ha(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wt(i)?!!i.capture:!!i,a=ns(t);if(a||(t[es]=a=new Xn(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=xf(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Sf||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ya(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xf(){function t(n){return e.call(t.src,t.listener,n)}let e=Vf;return t}function Qa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qa(t,e[s],n,r,i);return null}return n=rs(n),t&&t[Kt]?t.P(e,n,Wt(r)?!!r.capture:!!r,i):Ha(t,e,n,!0,r,i)}function Ja(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ja(t,e[s],n,r,i);else r=Wt(r)?!!r.capture:!!r,n=rs(n),t&&t[Kt]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Fi(s,n,r,i),-1<n&&(Yn(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ns(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fi(e,n,r,i)),(n=-1<t?e[t]:null)&&ts(n))}function ts(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kt])Mi(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ya(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ns(e))?(Mi(n,t),n.h==0&&(n.src=null,e[es]=null)):Yn(t)}}}function Ya(t){return t in Di?Di[t]:Di[t]="on"+t}function Vf(t,e){if(t.fa)t=!0;else{e=new Ut(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ts(t),t=n.call(r,e)}return t}function ns(t){return t=t[es],t instanceof Xn?t:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(t){return typeof t=="function"?t:(t[Ni]||(t[Ni]=function(e){return t.handleEvent(e)}),t[Ni])}function R(){Ve.call(this),this.i=new Xn(this),this.S=this,this.J=null}P(R,Ve);R.prototype[Kt]=!0;R.prototype.removeEventListener=function(t,e,n,r){Ja(this,t,e,n,r)};function N(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new L(e,t);else if(e instanceof L)e.target=e.target||t;else{var i=e;e=new L(r,t),Wa(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bn(o,r,!0,e)&&i}if(o=e.g=t,i=Bn(o,r,!0,e)&&i,i=Bn(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Bn(o,r,!1,e)&&i}R.prototype.N=function(){if(R.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yn(n[r]);delete t.g[e],t.h--}}this.J=null};R.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};R.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bn(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Mi(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var is=p.JSON.stringify,Ui=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Lf(){var t=ss;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Bi=class{constructor(){this.h=this.g=null}add(e,n){let r=Xa.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Xa=new Ui(()=>new qi,t=>t.reset()),qi=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Mf(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ff(t){p.setTimeout(()=>{throw t},0)}var Bt,qt=!1,ss=new Bi,Za=()=>{let t=p.Promise.resolve(void 0);Bt=()=>{t.then(Uf)}},Uf=()=>{for(var t;t=Lf();){try{t.h.call(t.g)}catch(n){Ff(n)}var e=Xa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qt=!1};function Zn(t,e){R.call(this),this.h=t||1,this.g=e||p,this.j=V(this.qb,this),this.l=Date.now()}P(Zn,R);h=Zn.prototype;h.ga=!1;h.T=null;h.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),N(this,"tick"),this.ga&&(os(this),this.start()))}};h.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function os(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}h.N=function(){Zn.$.N.call(this),os(this),delete this.g};function as(t,e,n){if(typeof t=="function")n&&(t=V(t,n));else if(t&&typeof t.handleEvent=="function")t=V(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:p.setTimeout(t,e||0)}function ec(t){t.g=as(()=>{t.g=null,t.i&&(t.i=!1,ec(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var $i=class extends Ve{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ec(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function $t(t){Ve.call(this),this.h=t,this.g={}}P($t,Ve);var Da=[];function tc(t,e,n,r){Array.isArray(n)||(n&&(Da[0]=n.toString()),n=Da);for(var i=0;i<n.length;i++){var s=Ka(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function nc(t){Zi(t.g,function(e,n){this.g.hasOwnProperty(n)&&ts(e)},t),t.g={}}$t.prototype.N=function(){$t.$.N.call(this),nc(this)};$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function er(){this.g=!0}er.prototype.Ea=function(){this.g=!1};function Bf(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var m=d.split("_");o=2<=m.length&&m[1]=="type"?o+(d+"="+l+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function qf(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ut(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zf(t,n)+(r?" "+r:"")})}function $f(t,e){t.info(function(){return"TIMEOUT: "+e})}er.prototype.info=function(){};function zf(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return is(n)}catch{return e}}var nt={},Na=null;function tr(){return Na=Na||new R}nt.Ta="serverreachability";function rc(t){L.call(this,nt.Ta,t)}P(rc,L);function zt(t){let e=tr();N(e,new rc(e))}nt.STAT_EVENT="statevent";function ic(t,e){L.call(this,nt.STAT_EVENT,t),this.stat=e}P(ic,L);function F(t){let e=tr();N(e,new ic(e,t))}nt.Ua="timingevent";function sc(t,e){L.call(this,nt.Ua,t),this.size=e}P(sc,L);function Ht(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){t()},e)}var nr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cs(){}cs.prototype.h=null;function Oa(t){return t.h||(t.h=t.i())}function ac(){}var Qt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function us(){L.call(this,"d")}P(us,L);function ls(){L.call(this,"c")}P(ls,L);var zi;function rr(){}P(rr,cs);rr.prototype.g=function(){return new XMLHttpRequest};rr.prototype.i=function(){return{}};zi=new rr;function Jt(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $t(this),this.P=jf,t=xi?125:void 0,this.V=new Zn(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cc}function cc(){this.i=null,this.g="",this.h=!1}var jf=45e3,uc={},ji={};h=Jt.prototype;h.setTimeout=function(t){this.P=t};function Gi(t,e,n){t.L=1,t.A=sr(ye(e)),t.u=n,t.S=!0,lc(t,null)}function lc(t,e){t.G=Date.now(),Yt(t),t.B=ye(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),yc(n.i,"t",r),t.o=0,n=t.l.J,t.h=new cc,t.g=Uc(t.l,n?e:null,!t.u),0<t.O&&(t.M=new $i(V(t.Pa,t,t.g),t.O)),tc(t.U,t.g,"readystatechange",t.nb),e=t.I?Ga(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zt(),Bf(t.j,t.v,t.B,t.m,t.W,t.u)}h.nb=function(t){t=t.target;let e=this.M;e&&re(t)==3?e.l():this.Pa(t)};h.Pa=function(t){try{if(t==this.g)e:{let d=re(this.g);var e=this.g.Ia();let m=this.g.da();if(!(3>d)&&(d!=3||xi||this.g&&(this.h.h||this.g.ja()||Ma(this.g)))){this.J||d!=4||e==7||(e==8||0>=m?zt(3):zt(2)),ir(this);var n=this.g.da();this.ca=n;t:if(hc(this)){var r=Ma(this.g);t="";var i=r.length,s=re(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),Mt(this);var o="";break t}this.h.i=new p.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,qf(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ft(a)){var l=a;break t}}l=null}if(n=l)ut(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wi(this,n);else{this.i=!1,this.s=3,F(12),Ze(this),Mt(this);break e}}this.S?(dc(this,d,o),xi&&this.i&&d==3&&(tc(this.U,this.V,"tick",this.mb),this.V.start())):(ut(this.j,this.m,o,null),Wi(this,o)),d==4&&Ze(this),this.i&&!this.J&&(d==4?Vc(this.l,this):(this.i=!1,Yt(this)))}else hp(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),Ze(this),Mt(this)}}}catch{}finally{}};function hc(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function dc(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Gf(t,n),i==ji){e==4&&(t.s=4,F(14),r=!1),ut(t.j,t.m,null,"[Incomplete Response]");break}else if(i==uc){t.s=4,F(15),ut(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ut(t.j,t.m,i,null),Wi(t,i);hc(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,F(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gs(e),e.M=!0,F(11))):(ut(t.j,t.m,n,"[Invalid Chunked Response]"),Ze(t),Mt(t))}h.mb=function(){if(this.g){var t=re(this.g),e=this.g.ja();this.o<e.length&&(ir(this),dc(this,t,e),this.i&&t!=4&&Yt(this))}};function Gf(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?ji:(n=Number(e.substring(n,r)),isNaN(n)?uc:(r+=1,r+n>e.length?ji:(e=e.slice(r,r+n),t.o=r+n,e)))}h.cancel=function(){this.J=!0,Ze(this)};function Yt(t){t.Y=Date.now()+t.P,fc(t,t.P)}function fc(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ht(V(t.lb,t),e)}function ir(t){t.C&&(p.clearTimeout(t.C),t.C=null)}h.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?($f(this.j,this.B),this.L!=2&&(zt(),F(17)),Ze(this),this.s=2,Mt(this)):fc(this,this.Y-t)};function Mt(t){t.l.H==0||t.J||Vc(t.l,t)}function Ze(t){ir(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,os(t.V),nc(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wi(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ki(n.i,t))){if(!t.K&&Ki(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gn(n),cr(n);else break e;ms(n),F(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ht(V(n.ib,n),6e3));if(1>=Ec(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else et(n,11)}else if((t.K||n.g==t)&&Gn(n),!Ft(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let d=l[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));let m=l[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));let _=l[5];_!=null&&typeof _=="number"&&0<_&&(r=1.5*_,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let T=t.g;if(T){let S=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hs(s,s.h),s.h=null))}if(r.F){let G=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(r.Da=G,v(r.I,r.F,G))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Fc(r,r.J?r.pa:null,r.Y),o.K){wc(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(ir(a),Yt(a)),r.g=o}else Oc(r);0<n.j.length&&ur(n)}else l[0]!="stop"&&l[0]!="close"||et(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?et(n,7):ps(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}zt(4)}catch{}}function Wf(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Kf(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qn(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function pc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qn(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Kf(t),r=Wf(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hf(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function tt(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof tt){this.h=t.h,zn(this,t.j),this.s=t.s,this.g=t.g,jn(this,t.m),this.l=t.l;var e=t.i,n=new jt;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xa(this,n),this.o=t.o}else t&&(e=String(t).match(mc))?(this.h=!1,zn(this,e[1]||"",!0),this.s=Vt(e[2]||""),this.g=Vt(e[3]||"",!0),jn(this,e[4]),this.l=Vt(e[5]||"",!0),xa(this,e[6]||"",!0),this.o=Vt(e[7]||"")):(this.h=!1,this.i=new jt(null,this.h))}tt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lt(e,Va,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lt(e,Va,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lt(n,n.charAt(0)=="/"?Yf:Jf,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lt(n,Zf)),t.join("")};function ye(t){return new tt(t)}function zn(t,e,n){t.j=n?Vt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xa(t,e,n){e instanceof jt?(t.i=e,ep(t.i,t.h)):(n||(e=Lt(e,Xf)),t.i=new jt(e,t.h))}function v(t,e,n){t.i.set(e,n)}function sr(t){return v(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lt(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Qf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qf(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Va=/[#\/\?@]/g,Jf=/[#\?:]/g,Yf=/[#\?]/g,Xf=/[#\?@]/g,Zf=/#/g;function jt(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Le(t){t.g||(t.g=new Map,t.h=0,t.i&&Hf(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}h=jt.prototype;h.add=function(t,e){Le(this),this.i=null,t=dt(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gc(t,e){Le(t),e=dt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _c(t,e){return Le(t),e=dt(t,e),t.g.has(e)}h.forEach=function(t,e){Le(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};h.ta=function(){Le(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};h.Z=function(t){Le(this);let e=[];if(typeof t=="string")_c(this,t)&&(e=e.concat(this.g.get(dt(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};h.set=function(t,e){return Le(this),this.i=null,t=dt(this,t),_c(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};h.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yc(t,e,n){gc(t,e),0<n.length&&(t.i=null,t.g.set(dt(t,e),Yi(n)),t.h+=n.length)}h.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function dt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ep(t,e){e&&!t.j&&(Le(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gc(this,r),yc(this,i,n))},t)),t.j=e}var tp=class{constructor(t,e){this.g=t,this.map=e}};function Ic(t){this.l=t||np,p.PerformanceNavigationTiming?(t=p.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(p.g&&p.g.Ka&&p.g.Ka()&&p.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var np=10;function vc(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ec(t){return t.h?1:t.g?t.g.size:0}function Ki(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hs(t,e){t.g?t.g.add(e):t.h=e}function wc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ic.prototype.cancel=function(){if(this.i=Tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Tc(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Yi(t.i)}var rp=class{stringify(t){return p.JSON.stringify(t,void 0)}parse(t){return p.JSON.parse(t,void 0)}};function ip(){this.g=new rp}function sp(t,e,n){let r=n||"";try{pc(t,function(i,s){let o=i;Wt(i)&&(o=is(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function op(t,e){let n=new er;if(p.Image){let r=new Image;r.onload=Ln(qn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ln(qn,n,r,"TestLoadImage: error",!1,e),r.onabort=Ln(qn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ln(qn,n,r,"TestLoadImage: timeout",!1,e),p.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function qn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xt(t){this.l=t.ec||null,this.j=t.ob||!1}P(Xt,cs);Xt.prototype.g=function(){return new or(this.l,this.j)};Xt.prototype.i=function(t){return function(){return t}}({});function or(t,e){R.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P(or,R);var ds=0;h=or.prototype;h.open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gt(this)};h.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||p).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zt(this)),this.readyState=ds};h.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gt(this)),this.g&&(this.readyState=3,Gt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ac(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ac(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}h.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zt(this):Gt(this),this.readyState==3&&Ac(this)}};h.Za=function(t){this.g&&(this.response=this.responseText=t,Zt(this))};h.Ya=function(t){this.g&&(this.response=t,Zt(this))};h.ka=function(){this.g&&Zt(this)};function Zt(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gt(t)}h.setRequestHeader=function(t,e){this.v.append(t,e)};h.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};h.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ap=p.JSON.parse;function w(t){R.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sc,this.L=this.M=!1}P(w,R);var Sc="",cp=/^https?$/i,up=["POST","PUT"];h=w.prototype;h.Oa=function(t){this.M=t};h.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zi.g(),this.C=this.u?Oa(this.u):Oa(zi),this.g.onreadystatechange=V(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){La(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=p.FormData&&t instanceof p.FormData,!(0<=qa(up,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pc(this),0<this.B&&((this.L=lp(this.g))?(this.g.timeout=this.B,this.g.ontimeout=V(this.ua,this)):this.A=as(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){La(this,s)}};function lp(t){return ht&&typeof t.timeout=="number"&&t.ontimeout!==void 0}h.ua=function(){typeof Ji<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,N(this,"timeout"),this.abort(8))};function La(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bc(t),ar(t)}function bc(t){t.F||(t.F=!0,N(t,"complete"),N(t,"error"))}h.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,N(this,"complete"),N(this,"abort"),ar(this))};h.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ar(this,!0)),w.$.N.call(this)};h.La=function(){this.s||(this.G||this.v||this.l?Rc(this):this.kb())};h.kb=function(){Rc(this)};function Rc(t){if(t.h&&typeof Ji<"u"&&(!t.C[1]||re(t)!=4||t.da()!=2)){if(t.v&&re(t)==4)as(t.La,0,t);else if(N(t,"readystatechange"),re(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(mc)[1]||null;!i&&p.self&&p.self.location&&(i=p.self.location.protocol.slice(0,-1)),r=!cp.test(i?i.toLowerCase():"")}n=r}if(n)N(t,"complete"),N(t,"success");else{t.m=6;try{var s=2<re(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bc(t)}}finally{ar(t)}}}}function ar(t,e){if(t.g){Pc(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||N(t,"ready");try{n.onreadystatechange=r}catch{}}}function Pc(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(p.clearTimeout(t.A),t.A=null)}h.isActive=function(){return!!this.g};function re(t){return t.g?t.g.readyState:0}h.da=function(){try{return 2<re(this)?this.g.status:-1}catch{return-1}};h.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};h.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ap(e)}};function Ma(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Sc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hp(t){let e={};t=(t.g&&2<=re(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ft(t[r]))continue;var n=Mf(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}Of(e,function(r){return r.join(", ")})}h.Ia=function(){return this.m};h.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Cc(t){let e="";return Zi(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fs(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cc(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):v(t,e,n))}function Ot(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kc(t){this.Ga=0,this.j=[],this.l=new er,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ot("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ot("baseRetryDelayMs",5e3,t),this.hb=Ot("retryDelaySeedMs",1e4,t),this.eb=Ot("forwardChannelMaxRetries",2,t),this.xa=Ot("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Ic(t&&t.concurrentRequestLimit),this.Ja=new ip,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}h=kc.prototype;h.ra=8;h.H=1;function ps(t){if(Dc(t),t.H==3){var e=t.W++,n=ye(t.I);if(v(n,"SID",t.K),v(n,"RID",e),v(n,"TYPE","terminate"),en(t,n),e=new Jt(t,t.l,e),e.L=2,e.A=sr(ye(n)),n=!1,p.navigator&&p.navigator.sendBeacon)try{n=p.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&p.Image&&(new Image().src=e.A,n=!0),n||(e.g=Uc(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Yt(e)}Mc(t)}function cr(t){t.g&&(gs(t),t.g.cancel(),t.g=null)}function Dc(t){cr(t),t.u&&(p.clearTimeout(t.u),t.u=null),Gn(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&p.clearTimeout(t.m),t.m=null)}function ur(t){if(!vc(t.i)&&!t.m){t.m=!0;var e=t.Na;Bt||Za(),qt||(Bt(),qt=!0),ss.add(e,t),t.C=0}}function dp(t,e){return Ec(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ht(V(t.Na,t,e),Lc(t,t.C)),t.C++,!0)}h.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Jt(this,this.l,t),s=this.s;if(this.U&&(s?(s=Ga(s),Wa(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nc(this,i,e),n=ye(this.I),v(n,"RID",t),v(n,"CVER",22),this.F&&v(n,"X-HTTP-Session-Id",this.F),en(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Cc(s)))+"&"+e:this.o&&fs(n,this.o,s)),hs(this.i,i),this.bb&&v(n,"TYPE","init"),this.P?(v(n,"$req",e),v(n,"SID","null"),i.aa=!0,Gi(i,n,null)):Gi(i,n,e),this.H=2}}else this.H==3&&(t?Fa(this,t):this.j.length==0||vc(this.i)||Fa(this))};function Fa(t,e){var n;e?n=e.m:n=t.W++;let r=ye(t.I);v(r,"SID",t.K),v(r,"RID",n),v(r,"AID",t.V),en(t,r),t.o&&t.s&&fs(r,t.o,t.s),n=new Jt(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Nc(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hs(t.i,n),Gi(n,r,e)}function en(t,e){t.na&&Zi(t.na,function(n,r){v(e,r,n)}),t.h&&pc({},function(n,r){v(e,r,n)})}function Nc(t,e,n){n=Math.min(t.j.length,n);var r=t.h?V(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,d=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{sp(d,o,"req"+l+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Oc(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bt||Za(),qt||(Bt(),qt=!0),ss.add(e,t),t.A=0}}function ms(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ht(V(t.Ma,t),Lc(t,t.A)),t.A++,!0)}h.Ma=function(){if(this.u=null,xc(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ht(V(this.jb,this),t)}};h.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F(10),cr(this),xc(this))};function gs(t){t.B!=null&&(p.clearTimeout(t.B),t.B=null)}function xc(t){t.g=new Jt(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ye(t.wa);v(e,"RID","rpc"),v(e,"SID",t.K),v(e,"AID",t.V),v(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&v(e,"TO",t.qa),v(e,"TYPE","xmlhttp"),en(t,e),t.o&&t.s&&fs(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=sr(ye(e)),n.u=null,n.S=!0,lc(n,t)}h.ib=function(){this.v!=null&&(this.v=null,cr(this),ms(this),F(19))};function Gn(t){t.v!=null&&(p.clearTimeout(t.v),t.v=null)}function Vc(t,e){var n=null;if(t.g==e){Gn(t),gs(t),t.g=null;var r=2}else if(Ki(t.i,e))n=e.F,wc(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=tr(),N(r,new sc(r,n)),ur(t)}else Oc(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&dp(t,e)||r==2&&ms(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:et(t,5);break;case 4:et(t,10);break;case 3:et(t,6);break;default:et(t,2)}}}function Lc(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function et(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=V(t.pb,t);n||(n=new tt("//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||zn(n,"https"),sr(n)),op(n.toString(),r)}else F(2);t.H=0,t.h&&t.h.za(e),Mc(t),Dc(t)}h.pb=function(t){t?(this.l.info("Successfully pinged google.com"),F(2)):(this.l.info("Failed to ping google.com"),F(1))};function Mc(t){if(t.H=0,t.ma=[],t.h){let e=Tc(t.i);(e.length!=0||t.j.length!=0)&&(Ca(t.ma,e),Ca(t.ma,t.j),t.i.i.length=0,Yi(t.j),t.j.length=0),t.h.ya()}}function Fc(t,e,n){var r=n instanceof tt?ye(n):new tt(n);if(r.g!="")e&&(r.g=e+"."+r.g),jn(r,r.m);else{var i=p.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new tt(null);r&&zn(s,r),e&&(s.g=e),i&&jn(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&v(r,n,e),v(r,"VER",t.ra),en(t,r),r}function Uc(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new w(new Xt({ob:n})):new w(t.va),e.Oa(t.J),e}h.isActive=function(){return!!this.h&&this.h.isActive(this)};function Bc(){}h=Bc.prototype;h.Ba=function(){};h.Aa=function(){};h.za=function(){};h.ya=function(){};h.isActive=function(){return!0};h.Va=function(){};function Wn(){if(ht&&!(10<=Number(Cf)))throw Error("Environmental error: no available transport.")}Wn.prototype.g=function(t,e){return new $(t,e)};function $(t,e){R.call(this),this.g=new kc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ft(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ft(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ft(this)}P($,R);$.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;F(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Fc(t,null,t.Y),ur(t)};$.prototype.close=function(){ps(this.g)};$.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=is(t),t=n);e.j.push(new tp(e.fb++,t)),e.H==3&&ur(e)};$.prototype.N=function(){this.g.h=null,delete this.j,ps(this.g),delete this.g,$.$.N.call(this)};function qc(t){us.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}P(qc,us);function $c(){ls.call(this),this.status=1}P($c,ls);function ft(t){this.g=t}P(ft,Bc);ft.prototype.Ba=function(){N(this.g,"a")};ft.prototype.Aa=function(t){N(this.g,new qc(t))};ft.prototype.za=function(t){N(this.g,new $c)};ft.prototype.ya=function(){N(this.g,"b")};function fp(){this.blockSize=-1}function K(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}P(K,fp);K.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Oi(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}K.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Oi(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Oi(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Oi(this,r),i=0;break}}this.h=i,this.i+=e};K.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function I(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var pp={};function _s(t){return-128<=t&&128>t?bf(t,function(e){return new I([e|0],0>e?-1:0)}):new I([t|0],0>t?-1:0)}function ie(t){if(isNaN(t)||!isFinite(t))return lt;if(0>t)return D(ie(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hi;return new I(e,0)}function zc(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return D(zc(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ie(Math.pow(e,8)),r=lt,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ie(Math.pow(e,s)),r=r.R(s).add(ie(o))):(r=r.R(n),r=r.add(ie(o)))}return r}var Hi=4294967296,lt=_s(0),Qi=_s(1),Ua=_s(16777216);h=I.prototype;h.ea=function(){if(j(this))return-D(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hi+r)*e,e*=Hi}return t};h.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_e(this))return"0";if(j(this))return"-"+D(this).toString(t);for(var e=ie(Math.pow(t,6)),n=this,r="";;){var i=Hn(n,e).g;n=Kn(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_e(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};h.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _e(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function j(t){return t.h==-1}h.X=function(t){return t=Kn(this,t),j(t)?-1:_e(t)?0:1};function D(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new I(n,~t.h).add(Qi)}h.abs=function(){return j(this)?D(this):this};h.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new I(n,n[n.length-1]&-2147483648?-1:0)};function Kn(t,e){return t.add(D(e))}h.R=function(t){if(_e(this)||_e(t))return lt;if(j(this))return j(t)?D(this).R(D(t)):D(D(this).R(t));if(j(t))return D(this.R(D(t)));if(0>this.X(Ua)&&0>t.X(Ua))return ie(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,$n(n,2*r+2*i),n[2*r+2*i+1]+=s*c,$n(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,$n(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,$n(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new I(n,0)};function $n(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xt(t,e){this.g=t,this.h=e}function Hn(t,e){if(_e(e))throw Error("division by zero");if(_e(t))return new xt(lt,lt);if(j(t))return e=Hn(D(t),e),new xt(D(e.g),D(e.h));if(j(e))return e=Hn(t,D(e)),new xt(D(e.g),e.h);if(30<t.g.length){if(j(t)||j(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qi,r=e;0>=r.X(t);)n=Ba(n),r=Ba(r);var i=ct(n,1),s=ct(r,1);for(r=ct(r,2),n=ct(n,2);!_e(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ct(r,1),n=ct(n,1)}return e=Kn(t,i.R(e)),new xt(i,e)}for(i=lt;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ie(n),o=s.R(e);j(o)||0<o.X(t);)n-=r,s=ie(n),o=s.R(e);_e(s)&&(s=Qi),i=i.add(s),t=Kn(t,o)}return new xt(i,t)}h.gb=function(t){return Hn(this,t).h};h.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new I(n,this.h&t.h)};h.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new I(n,this.h|t.h)};h.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new I(n,this.h^t.h)};function Ba(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new I(n,t.h)}function ct(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new I(i,t.h)}Wn.prototype.createWebChannel=Wn.prototype.g;$.prototype.send=$.prototype.u;$.prototype.open=$.prototype.m;$.prototype.close=$.prototype.close;nr.NO_ERROR=0;nr.TIMEOUT=8;nr.HTTP_ERROR=6;oc.COMPLETE="complete";ac.EventType=Qt;Qt.OPEN="a";Qt.CLOSE="b";Qt.ERROR="c";Qt.MESSAGE="d";R.prototype.listen=R.prototype.O;w.prototype.listenOnce=w.prototype.P;w.prototype.getLastError=w.prototype.Sa;w.prototype.getLastErrorCode=w.prototype.Ia;w.prototype.getStatus=w.prototype.da;w.prototype.getResponseJson=w.prototype.Wa;w.prototype.getResponseText=w.prototype.ja;w.prototype.send=w.prototype.ha;w.prototype.setWithCredentials=w.prototype.Oa;K.prototype.digest=K.prototype.l;K.prototype.reset=K.prototype.reset;K.prototype.update=K.prototype.j;I.prototype.add=I.prototype.add;I.prototype.multiply=I.prototype.R;I.prototype.modulo=I.prototype.gb;I.prototype.compare=I.prototype.X;I.prototype.toNumber=I.prototype.ea;I.prototype.toString=I.prototype.toString;I.prototype.getBits=I.prototype.D;I.fromNumber=ie;I.fromString=zc;var mp=H.createWebChannelTransport=function(){return new Wn},gp=H.getStatEventTarget=function(){return tr()},_p=H.ErrorCode=nr,yp=H.EventType=oc,Ip=H.Event=nt,vp=H.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ep=H.FetchXmlHttpFactory=Xt,wp=H.WebChannel=ac,Tp=H.XhrIo=w,Ap=H.Md5=K,jc=H.Integer=I;var Gc="@firebase/firestore";var C=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");var nn="10.11.1";var mt=new be("@firebase/firestore");function z(t,...e){if(mt.logLevel<=y.DEBUG){let n=e.map(Fs);mt.debug(`Firestore (${nn}): ${t}`,...n)}}function Ms(t,...e){if(mt.logLevel<=y.ERROR){let n=e.map(Fs);mt.error(`Firestore (${nn}): ${t}`,...n)}}function Sp(t,...e){if(mt.logLevel<=y.WARN){let n=e.map(Fs);mt.warn(`Firestore (${nn}): ${t}`,...n)}}function Fs(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${nn}) INTERNAL ASSERTION FAILED: `+t;throw Ms(e),new Error(e)}function tn(t,e){t||q()}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=class extends M{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fe=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lr=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Is=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(C.UNAUTHENTICATED))}shutdown(){}},vs=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Es=class{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Fe;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fe,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>u(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fe)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tn(typeof r.accessToken=="string"),new lr(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string"),new C(e)}},ws=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=C.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ts=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ws(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}},As=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ss=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn(typeof n.token=="string"),this.R=n.token,new As(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function bp(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var bs=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=bp(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Jc(t,e){return t<e?-1:t>e?1:0}var Rs=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends Rs{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new A(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var rt=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var Ps=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ps.UNKNOWN_ID=-1;function Yc(t){return t.name==="IndexedDbTransactionError"}function Rp(t){return t===0&&1/t==-1/0}var Pp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],p_=[...Pp,"documentOverlays"],Cp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kp=Cp,m_=[...kp,"indexConfiguration","indexState","indexEntries"];var gt=class t{constructor(e,n){this.comparator=e,this.root=n||oe.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oe.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pt(this.root,e,this.comparator,!0)}},pt=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},oe=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};oe.EMPTY=null,oe.RED=!0,oe.BLACK=!1;oe.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new oe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var hr=class t{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dr(this.data.getIterator())}getIteratorFrom(e){return new dr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cs("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var Dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Np(t){if(tn(!!t),typeof t=="string"){let e=0,n=Dp.exec(t);if(tn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fr(t.seconds),nanos:fr(t.nanos)}}function fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Op(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}var ks=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Ds=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function xp(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var __=new gt(rt.comparator);var y_=new gt(rt.comparator);var I_=new gt(rt.comparator),v_=new hr(rt.comparator);var E_=new hr(Jc);var Wc,g;(g=Wc||(Wc={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";var w_=new jc([4294967295,4294967295],0);var pr=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(fr(e.integerValue));else if("doubleValue"in e){let r=fr(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Rp(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Np(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Op(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?xp(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):q()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),rt.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};pr.St=new pr;var T_=new Uint8Array(0);var se=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};se.DEFAULT_COLLECTION_PERCENTILE=10,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,se.DEFAULT=new se(41943040,se.DEFAULT_COLLECTION_PERCENTILE,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),se.DISABLED=new se(-1,0,0);function ys(){return typeof document<"u"?document:null}var Ns=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Os=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Vp(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),Yc(t))return new A(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Kc,Hc;(Hc=Kc||(Kc={})).J_="default",Hc.Cache="cache";var xs=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=C.UNAUTHENTICATED,this.clientId=bs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>u(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>u(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Vp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Xc(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Qc=new Map;function Lp(t,e,n,r){if(e===!0&&r===!0)throw new A(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Fp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mp(t);throw new A(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mr=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xc((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new A(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gr=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mr({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mr(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Is;switch(r.type){case"firstParty":return new Ts(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Qc.get(n);r&&(z("ComponentProvider","Removing Datastore"),Qc.delete(n),r.terminate())}(this),Promise.resolve()}};function Zc(t,e,n,r={}){var i;let s=(t=Fp(t,gr))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Sp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=C.MOCK_USER;else{a=dn(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new C(l)}t._authCredentials=new vs(new lr(a,c))}}var Vs=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ns(this,"async_queue_retry"),this.hu=()=>{let n=ys();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=ys();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ys();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Fe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return u(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Yc(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Os.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&q()}verifyOperationInProgress(){}du(){return u(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var Ls=class extends gr{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Vs}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Up(this),this._firestoreClient.terminate()}};function eu(t,e){let n=typeof t=="object"?t:Pe(),r=typeof t=="string"?t:e||"(default)",i=Ge(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=hn("firestore");s&&Zc(i,...s)}return i}function Up(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,d){return new ks(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Xc(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xs(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var A_=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){nn=i})(ee),Z(new B("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ls(new Es(r.getProvider("auth-internal")),new Ss(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new A(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),E(Gc,"4.6.1",e),E(Gc,"4.6.1","esm2017")})();var rn=class{constructor(e){return e}},tu="firestore",Us=class{constructor(){return Ke(tu)}};var Bs=new Te("angularfire2.firestore-instances");function Bp(t,e){let n=st(tu,t,e);return n&&new rn(n)}function qp(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rn(r)}}var $p={provide:Us,deps:[[new k,Bs]]},zp={provide:rn,useFactory:Bp,deps:[[new k,Bs],W]},jp=(()=>{class t{constructor(){E("angularfire",fe.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ae({type:t});static \u0275inj=we({providers:[zp,$p]})}return t})();function nu(t,...e){return{ngModule:jp,providers:[{provide:Bs,useFactory:qp(t),multi:!0,deps:[J,Se,ke,pe,[new k,Xe],[new k,Ce],...e]}]}}var ru=De(eu,!0);var uu="firebasestorage.googleapis.com",Gp="storageBucket",Wp=2*60*1e3,Kp=10*60*1e3;var ae=class t extends M{constructor(e,n,r=0){super(qs(e),`Firebase Storage: ${n} (${qs(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qs(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ve=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ve||{});function qs(t){return"storage/"+t}function Hp(){let t="An unknown error occurred, please check the error payload for server response.";return new ae(ve.UNKNOWN,t)}function Qp(){return new ae(ve.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jp(){return new ae(ve.CANCELED,"User canceled the upload/download.")}function Yp(t){return new ae(ve.INVALID_URL,"Invalid URL '"+t+"'.")}function Xp(t){return new ae(ve.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iu(t){return new ae(ve.INVALID_ARGUMENT,t)}function lu(){return new ae(ve.APP_DELETED,"The Firebase app was deleted.")}function Zp(t){return new ae(ve.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ie=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Xp(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(U){U.path_=decodeURIComponent(U.path)}let d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${m}/${d}/b/${i}/o${_}`,"i"),S={bucket:1,path:3},G=n===uu?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",Ue=new RegExp(`^https?://${G}/${i}/${x}`,"i"),Q=[{regex:a,indices:c,postModify:s},{regex:T,indices:S,postModify:l},{regex:Ue,indices:{bucket:1,path:2},postModify:l}];for(let U=0;U<Q.length;U++){let Be=Q[U],qe=Be.regex.exec(e);if(qe){let an=qe[Be.indices.bucket],It=qe[Be.indices.path];It||(It=""),r=new t(an,It),Be.postModify(r);break}}if(r==null)throw Yp(e);return r}},$s=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function em(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function d(...x){l||(l=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(T,c())},x)}function _(){s&&clearTimeout(s)}function T(x,...Ue){if(l){_();return}if(x){_(),d.call(null,x,...Ue);return}if(c()||o){_(),d.call(null,x,...Ue);return}r<64&&(r*=2);let Q;a===1?(a=2,Q=0):Q=(r+Math.random())*1e3,m(Q)}let S=!1;function G(x){S||(S=!0,_(),!l&&(i!==null?(x||(a=2),clearTimeout(i),m(0)):x||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,G(!0)},n),G}function tm(t){t(!1)}function nm(t){return t!==void 0}function su(t,e,n,r){if(r<e)throw iu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iu(`Invalid value for '${t}'. Expected ${n} or less.`)}function rm(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var zs=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(zs||{});function im(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var js=class{constructor(e,n,r,i,s,o,a,c,l,d,m,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new yt(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===zs.NO_ERROR,c=s.getStatus();if(!a||im(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===zs.ABORT;r(!1,new yt(!1,null,d));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new yt(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());nm(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=Hp();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?lu():Jp();o(c)}else{let c=Qp();o(c)}};this.canceled_?n(!1,new yt(!1,null,!0)):this.backoffId_=em(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tm(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},yt=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function sm(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function om(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function am(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cm(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function um(t,e,n,r,i,s,o=!0){let a=rm(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return am(l,e),sm(l,n),om(l,s),cm(l,r),new js(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function lm(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hm(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var Zy=256*1024;var Gs=class t{constructor(e,n){this._service=e,n instanceof Ie?this._location=n:this._location=Ie.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Ie(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hm(this._location.path)}get storage(){return this._service}get parent(){let e=lm(this._location.path);if(e===null)return null;let n=new Ie(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zp(e)}};function ou(t,e){let n=e?.[Gp];return n==null?null:Ie.makeFromBucketSpec(n,t)}function dm(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:dn(i,t.app.options.projectId))}var Ws=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=uu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Wp,this._maxUploadRetryTime=Kp,this._requests=new Set,i!=null?this._bucket=Ie.makeFromBucketSpec(i,this._host):this._bucket=ou(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ie.makeFromBucketSpec(this._url,e):this._bucket=ou(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){su("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){su("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return u(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return u(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $s(lu());{let o=um(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return u(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},au="@firebase/storage",cu="0.12.4";var hu="storage";function du(t=Pe(),e){t=Y(t);let r=Ge(t,hu).getImmediate({identifier:e}),i=hn("storage");return i&&fu(r,...i),r}function fu(t,e,n,r={}){dm(t,e,n,r)}function fm(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ws(n,r,i,e,ee)}function pm(){Z(new B(hu,fm,"PUBLIC").setMultipleInstances(!0)),E(au,cu,""),E(au,cu,"esm2017")}pm();var sn=class{constructor(e){return e}},pu="storage",Ks=class{constructor(){return Ke(pu)}};var Hs=new Te("angularfire2.storage-instances");function mm(t,e){let n=st(pu,t,e);return n&&new sn(n)}function gm(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new sn(r)}}var _m={provide:Ks,deps:[[new k,Hs]]},ym={provide:sn,useFactory:mm,deps:[[new k,Hs],W]},Im=(()=>{class t{constructor(){E("angularfire",fe.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ae({type:t});static \u0275inj=we({providers:[ym,_m]})}return t})();function mu(t,...e){return{ngModule:Im,providers:[{provide:Hs,useFactory:gm(t),multi:!0,deps:[J,Se,ke,pe,[new k,Xe],[new k,Ce],...e]}]}}var gu=De(du,!0);var _u={providers:[lo(ho),vt(Mo(()=>Fo({apiKey:"AIzaSyC6fV1YQRa0oDkHtcQXHUMC4WrALDg6d80",authDomain:"lab4-ejercicios-9dc29.firebaseapp.com",projectId:"lab4-ejercicios-9dc29",storageBucket:"lab4-ejercicios-9dc29.appspot.com",messagingSenderId:"341745439943",appId:"1:341745439943:web:628ae2469b4ab24853dae2"}))),vt(Ra(()=>Pa())),vt(nu(()=>ru())),vt(mu(()=>gu()))]};var yu=(()=>{let e=class e{constructor(){}cerrarSesion(){alert("Cerrar Sesion saluda")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=to({type:e,selectors:[["app-root"]],standalone:!0,features:[io],decls:24,vars:0,consts:[[1,"container-fluid","bg-secondary",2,"height","47px"],[1,"row"],[1,"m-1","col","d-flex","justify-content-start","align-items-center"],["href","#","type","button","routerLink","calculos-edad",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-right","8px"],[1,"separator"],["href","#","type","button","routerLink","bienvenida",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-left","8px","margin-right","8px"],["href","#","type","button","routerLink","login",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-right","8px"],["href","#","type","button","routerLink","registro",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-right","8px"],["href","#","type","button","routerLink","error",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-right","8px"],["href","#","type","button","routerLink","input-output-ngif-ng-for-ngswitch",1,"btn","text-white","bg-dark",2,"white-space","nowrap","margin-right","8px"],["href","#","type","button",1,"btn","text-white","bg-dark",2,"white-space","nowrap",3,"click"],[1,"m-1","col","d-flex","justify-content-center","align-items-center"],[1,"m-1","col","d-flex","justify-content-end","align-items-center"],[1,"text-white"]],template:function(i,s){i&1&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),le(4," Calculos de Edad "),ue(),un(5,"div",4),ce(6,"button",5),le(7," Bienvenida "),ue(),ce(8,"button",6),le(9," Login "),ue(),ce(10,"button",7),le(11," Registrarse "),ue(),ce(12,"button",8),le(13," Error "),ue(),ce(14,"button",9),le(15," INPUT - OUTPUT - ngif - ngfor - ngswitch "),ue(),ce(16,"button",10),ro("click",function(){return s.cerrarSesion()}),le(17," Cerrar Sesion "),ue()(),un(18,"div",11),ce(19,"div",12)(20,"div",12)(21,"span",13),le(22,"Juan Pablo Dongo Huaman"),ue()()()()(),un(23,"router-outlet"))},dependencies:[co,uo],styles:[".separator[_ngcontent-%COMP%]{height:25px;width:1px;background-color:#fff;margin-left:8px;margin-right:8px}"]});let t=e;return t})();ao(yu,_u).catch(t=>console.error(t));
